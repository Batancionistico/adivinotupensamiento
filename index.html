<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AdivinoTuPensamiento.com</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;700&display=swap">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #0a0a1a;
            font-family: 'Roboto', sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: radial-gradient(circle at center, #1a1a3a, #0a0a1a);
            color: white;
            overflow-x: hidden;
            position: relative;
        }
        
        .container {
            width: 90%;
            max-width: 800px;
            text-align: center;
            padding: 30px;
            background: rgba(10, 10, 30, 0.85);
            border-radius: 20px;
            box-shadow: 0 0 30px rgba(0, 100, 255, 0.3);
            margin: 20px auto;
            position: relative;
            z-index: 2;
            border: 1px solid rgba(0, 150, 255, 0.2);
            backdrop-filter: blur(10px);
        }
        
        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.8rem;
            margin: 20px 0;
            text-transform: uppercase;
            letter-spacing: 3px;
            color: #4dccff;
            text-shadow: 0 0 10px #00aaff, 0 0 20px #0088ff;
            animation: glow 1.5s ease-in-out infinite alternate;
            position: relative;
        }
        
        @keyframes glow {
            from { text-shadow: 0 0 5px #fff, 0 0 10px #00aaff, 0 0 15px #0088ff, 0 0 20px #0055ff; }
            to { text-shadow: 0 0 10px #fff, 0 0 20px #00ccff, 0 0 30px #0088ff, 0 0 40px #0055ff; }
        }
        
        .subtitle {
            font-size: 1.2rem;
            margin-bottom: 30px;
            color: #a0d0ff;
            line-height: 1.6;
        }
        
        .input-container {
            margin: 40px 0;
            padding: 20px;
            background: rgba(0, 20, 40, 0.5);
            border-radius: 15px;
            border: 1px solid rgba(0, 150, 255, 0.3);
        }
        
        .input-label {
            display: block;
            font-size: 1.4rem;
            margin-bottom: 20px;
            color: #4dccff;
        }
        
        .number-input {
            width: 80px;
            height: 80px;
            font-size: 2.5rem;
            text-align: center;
            background: rgba(0, 10, 30, 0.8);
            border: 3px solid #4dccff;
            border-radius: 10px;
            color: white;
            outline: none;
            box-shadow: 0 0 15px rgba(77, 204, 255, 0.5);
            transition: all 0.3s ease;
        }
        
        .number-input:focus {
            box-shadow: 0 0 25px rgba(77, 204, 255, 0.8);
            transform: scale(1.05);
        }
        
        .btn {
            background: linear-gradient(to right, #1a2a6c, #0055aa);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }
        
        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 100, 255, 0.6);
            background: linear-gradient(to right, #243b7a, #0077cc);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: rgba(255, 255, 255, 0.1);
            transform: rotate(45deg);
            transition: all 0.5s ease;
            z-index: 0;
        }
        
        .btn:hover::before {
            transform: rotate(45deg) translate(50%, 50%);
        }
        
        .result-container {
            min-height: 200px;
            margin: 30px 0;
            padding: 20px;
            background: rgba(0, 10, 30, 0.7);
            border-radius: 15px;
            border: 1px solid #00aaff;
            position: relative;
            overflow: hidden;
        }
        
        .result-text {
            font-size: 1.3rem;
            line-height: 1.6;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        .terminal {
            font-family: 'Courier New', monospace;
            background: rgba(0, 0, 0, 0.8);
            color: #0f0;
            padding: 15px;
            border-radius: 5px;
            text-align: left;
            margin: 10px 0;
            max-width: 100%;
            overflow: hidden;
            box-shadow: inset 0 0 10px rgba(0, 255, 0, 0.2);
        }
        
        .terminal-line {
            animation: typing 0.5s steps(40, end);
            white-space: nowrap;
            overflow: hidden;
        }
        
        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }
        
        .final-result {
            font-size: 2rem;
            font-weight: bold;
            margin-top: 20px;
            color: #ff4d4d;
            text-shadow: 0 0 10px rgba(255, 0, 0, 0.7);
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .admin-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 20, 0.95);
            padding: 20px;
            transform: translateY(100%);
            transition: transform 0.5s ease;
            z-index: 1000;
            border-top: 2px solid #ff0000;
            color: white;
            max-height: 70vh;
            overflow-y: auto;
            box-shadow: 0 -5px 30px rgba(255, 0, 0, 0.3);
        }
        
        .admin-panel.active {
            transform: translateY(0);
        }
        
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #444;
        }
        
        .admin-title {
            font-size: 1.4rem;
            color: #ff4d4d;
            font-family: 'Orbitron', sans-serif;
            text-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
        }
        
        .close-panel {
            background: #ff4d4d;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 5px 15px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        .close-panel:hover {
            background: #ff0000;
            transform: scale(1.05);
        }
        
        .ip-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }
        
        .ip-item {
            background: rgba(30, 30, 60, 0.7);
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            text-align: center;
            border: 1px solid rgba(100, 100, 255, 0.3);
        }
        
        .cuban-ip {
            background: rgba(150, 30, 30, 0.7);
            border: 1px solid rgba(255, 50, 50, 0.5);
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.3);
        }
        
        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            opacity: 0.1;
            pointer-events: none;
        }
        
        .disclaimer {
            margin-top: 20px;
            font-size: 0.9rem;
            color: #aaa;
            line-height: 1.6;
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #4dccff;
            animation: spin 1s ease-in-out infinite;
            margin-left: 10px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .secret-admin-trigger {
            position: fixed;
            bottom: 15px;
            left: 15px;
            width: 1px;
            height: 1px;
            background: transparent;
            cursor: pointer;
            z-index: 10000;
            opacity: 0.01;
        }
        
        .secret-admin-trigger:hover {
            opacity: 0.1;
            background: rgba(255, 255, 255, 0.1);
            width: 3px;
            height: 3px;
        }
        
        .access-denied {
            color: #ff4d4d;
            font-weight: bold;
            text-align: center;
            padding: 20px;
            font-size: 1.2rem;
        }
        
        @media (max-width: 600px) {
            h1 { font-size: 2rem; }
            .subtitle { font-size: 1rem; }
            .input-label { font-size: 1.2rem; }
            .number-input { width: 70px; height: 70px; font-size: 2rem; }
            .admin-title { font-size: 1.2rem; }
        }
        
        .floating {
            animation-name: floating;
            animation-duration: 3s;
            animation-iteration-count: infinite;
            animation-timing-function: ease-in-out;
        }
        
        @keyframes floating {
            0% { transform: translate(0, 0px); }
            50% { transform: translate(0, 15px); }
            100% { transform: translate(0, -0px); }
        }
        
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }
        
        .particle {
            position: absolute;
            border-radius: 50%;
            background: rgba(100, 200, 255, 0.3);
            animation: floatParticle linear infinite;
        }
        
        @keyframes floatParticle {
            to { transform: translateY(-100vh); }
        }
    </style>
</head>
<body>
    <!-- Fondo de partículas -->
    <div class="particles" id="particles"></div>
    
    <!-- Fondo estilo Matrix -->
    <canvas id="matrix" class="matrix-bg"></canvas>
    
    <!-- Trigger de admin invisible (1x1 pixel) -->
    <div class="secret-admin-trigger" id="adminTrigger"></div>
    
    <div class="container floating">
        <h1>AdivinoTuPensamiento.com</h1>
        <p class="subtitle">El único sitio que realmente lee tu mente... o al menos intenta hacerlo.<br>Piensa un número del 1 al 10 y descubre nuestra asombrosa tecnología.</p>
        
        <div class="input-container">
            <label class="input-label">Ingresa el número que estás pensando</label>
            <input type="number" id="numberInput" class="number-input" min="1" max="10" value="7">
        </div>
        
        <button id="guessBtn" class="btn">¡ADIVINA MI NÚMERO!</button>
        
        <div class="result-container">
            <div id="resultText" class="result-text">
                <div class="terminal">Sistema listo. Esperando tu elección...</div>
            </div>
        </div>
        
        <p class="disclaimer">* Esta herramienta utiliza tecnología avanzada de lectura de ondas cerebrales a través de tu dispositivo. Los resultados pueden variar.<br>** Este sitio no almacena información personal de los usuarios (excepto tu IP, pero eso es solo para nosotros 😉).</p>
    </div>
    
    <!-- Panel de administración (inicialmente oculto) -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-header">
            <h2 class="admin-title">🔒 Panel de Administración Secreto</h2>
            <button class="close-panel" id="closePanel">CERRAR</button>
        </div>
        <div id="ipData">
            <p>Cargando datos de acceso <span class="loading"></span></p>
        </div>
    </div>

    <script>
        // Frases divertidas para mostrar durante el "proceso"
        const phrases = [
            "Conectando con el FBI...",
            "Accediendo a cámaras de vigilancia cercanas...",
            "Hackeando la NASA...",
            "Analizando patrones cerebrales...",
            "Interceptando comunicaciones...",
            "Calibrando algoritmo de adivinación...",
            "Descifrando ondas cerebrales...",
            "Sincronizando con satélites...",
            "Recopilando datos de redes sociales...",
            "Consultando base de datos mundial...",
            "Verificando historial de navegación...",
            "Analizando patrones de sueño...",
            "Accediendo a micrófono del dispositivo...",
            "Calculando probabilidades cuánticas...",
            "Buscando en la deep web...",
            "Desencriptando pensamientos...",
            "Conectando con el departamento de defensa...",
            "Analizando frecuencia cardíaca...",
            "Comparando con perfiles psicológicos...",
            "Buscando coincidencias en la base de datos de la CIA...",
            "Activando protocolo de lectura mental...",
            "Recopilando datos biométricos...",
            "Verificando huella digital...",
            "Escaneando retina...",
            "Analizando patrones de tecleo...",
            "Conectando con torre de telefonía más cercana...",
            "Accediendo a historial médico...",
            "Consultando registros escolares...",
            "Analizando preferencias de compra...",
            "Buscando patrones en redes sociales...",
            "Calculando matriz de decisión...",
            "Validando con inteligencia artificial...",
            "Verificando con servidores en la nube...",
            "Consultando oráculo digital...",
            "Analizando huella digital de dispositivo...",
            "Conectando con el sistema operativo...",
            "Recopilando metadatos...",
            "Verificando ubicación GPS...",
            "Analizando patrones de sueño...",
            "Comparando con perfiles de personalidad...",
            "Buscando en registros públicos...",
            "Consultando base de datos de ADN...",
            "Verificando registros financieros...",
            "Analizando preferencias políticas...",
            "Calculando coeficiente intelectual...",
            "Validando con reconocimiento facial...",
            "Consultando historial de viajes...",
            "Buscando patrones de consumo...",
            "Analizando actividad en redes...",
            "¡Resultado encontrado!"
        ];
        
        // Elementos del DOM
        const numberInput = document.getElementById('numberInput');
        const guessBtn = document.getElementById('guessBtn');
        const resultText = document.getElementById('resultText');
        const adminTrigger = document.getElementById('adminTrigger');
        const adminPanel = document.getElementById('adminPanel');
        const closePanel = document.getElementById('closePanel');
        const ipData = document.getElementById('ipData');
        
        // Almacenamiento de IPs (simulado en localStorage)
        let visitorIPs = JSON.parse(localStorage.getItem('visitorIPs')) || [];
        
        // Función principal para "adivinar" el número
        function guessNumber() {
            const number = parseInt(numberInput.value);
            
            if (isNaN(number) || number < 1 || number > 10) {
                resultText.innerHTML = '<div class="terminal">ERROR: Por favor ingresa un número válido entre 1 y 10</div>';
                return;
            }
            
            // Deshabilitar el botón durante el proceso
            guessBtn.disabled = true;
            resultText.innerHTML = '<div class="terminal">Iniciando protocolo de lectura mental...</div>';
            
            // Mostrar las frases con intervalo
            let i = 0;
            const interval = setInterval(() => {
                if (i < phrases.length) {
                    // Crear efecto de terminal
                    resultText.innerHTML = `<div class="terminal"><span class="terminal-line">${phrases[i]}</span></div>`;
                    i++;
                } else {
                    clearInterval(interval);
                    // Mostrar resultado final
                    resultText.innerHTML = `
                        <div class="terminal">¡Proceso completado con éxito!</div>
                        <div class="final-result">Tu número es: ${number}</div>
                        <p>Nuestra inteligencia artificial ha analizado tus patrones cerebrales para determinar tu elección.</p>
                    `;
                    guessBtn.disabled = false;
                }
            }, 100); // Velocidad de cambio de frases
        }
        
        // Función para obtener la IP pública
        async function getIPData() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                
                // Guardar la IP en el almacenamiento
                saveVisitorIP(data.ip);
                
                return data.ip;
            } catch (error) {
                console.error('Error al obtener IP:', error);
                return '127.0.0.1'; // IP local por defecto en caso de error
            }
        }
        
        // Guardar IP en localStorage
        function saveVisitorIP(ip) {
            // Verificar si la IP ya está registrada
            if (!visitorIPs.includes(ip)) {
                visitorIPs.push(ip);
                localStorage.setItem('visitorIPs', JSON.stringify(visitorIPs));
            }
        }
        
        // Función para obtener información de geolocalización
        async function getGeoInfo(ip) {
            try {
                const response = await fetch(`https://ipapi.co/${ip}/json/`);
                const data = await response.json();
                return {
                    country: data.country_name || 'Desconocido',
                    countryCode: data.country_code || 'XX',
                    city: data.city || 'Desconocido',
                    region: data.region || 'Desconocido',
                    isp: data.org || 'Desconocido'
                };
            } catch (error) {
                console.error('Error al obtener datos de geolocalización:', error);
                return {
                    country: 'Desconocido',
                    countryCode: 'XX',
                    city: 'Desconocido',
                    region: 'Desconocido',
                    isp: 'Desconocido'
                };
            }
        }
        
        // Función para mostrar el panel de administración
        async function toggleAdminPanel() {
            const userIP = await getIPData();
            const geoInfo = await getGeoInfo(userIP);
            
            // Solo permitir acceso a IPs de Cuba
            if (geoInfo.countryCode === 'CU') {
                adminPanel.classList.toggle('active');
                
                // Si se activa el panel, cargar datos
                if (adminPanel.classList.contains('active')) {
                    loadAdminData();
                }
            } else {
                ipData.innerHTML = `
                    <div class="access-denied">
                        ⚠️ ACCESO DENEGADO ⚠️<br><br>
                        Esta función solo está disponible para administradores autorizados en Cuba.
                        <br><br>
                        Tu IP: ${userIP}<br>
                        Ubicación: ${geoInfo.country} (${geoInfo.countryCode})
                    </div>
                `;
                adminPanel.classList.add('active');
                
                // Cerrar automáticamente después de 3 segundos
                setTimeout(() => {
                    adminPanel.classList.remove('active');
                }, 5000);
            }
        }
        
        // Cargar datos para el panel de administración
        async function loadAdminData() {
            ipData.innerHTML = '<p>Cargando datos de acceso <span class="loading"></span></p>';
            
            // Obtener todas las IPs almacenadas
            const ips = JSON.parse(localStorage.getItem('visitorIPs')) || [];
            
            if (ips.length === 0) {
                ipData.innerHTML = '<p>No hay datos de acceso registrados.</p>';
                return;
            }
            
            // Procesar cada IP para obtener información
            const ipDataArray = [];
            
            for (const ip of ips) {
                const geoInfo = await getGeoInfo(ip);
                ipDataArray.push({
                    ip: ip,
                    country: geoInfo.country,
                    countryCode: geoInfo.countryCode,
                    city: geoInfo.city,
                    region: geoInfo.region,
                    isp: geoInfo.isp
                });
            }
            
            // Mostrar datos en el panel
            let html = `
                <p>Total de visitantes: ${ipDataArray.length}</p>
                <div class="ip-list">
            `;
            
            ipDataArray.forEach(entry => {
                const cubanClass = entry.countryCode === 'CU' ? 'cuban-ip' : '';
                html += `
                    <div class="ip-item ${cubanClass}">
                        <strong>${entry.ip}</strong><br>
                        <small>${entry.country} (${entry.countryCode})</small><br>
                        <small>${entry.city}, ${entry.region}</small><br>
                        <small>ISP: ${entry.isp}</small>
                    </div>
                `;
            });
            
            html += '</div>';
            ipData.innerHTML = html;
        }
        
        // Event listeners
        guessBtn.addEventListener('click', guessNumber);
        adminTrigger.addEventListener('click', toggleAdminPanel);
        closePanel.addEventListener('click', () => {
            adminPanel.classList.remove('active');
        });
        
        // Permitir solo números del 1 al 10
        numberInput.addEventListener('input', function() {
            if (this.value > 10) this.value = 10;
            if (this.value < 1) this.value = 1;
        });
        
        // Efecto Matrix en el fondo
        function setupMatrix() {
            const canvas = document.getElementById('matrix');
            const ctx = canvas.getContext('2d');
            
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$#@%&*";
            const charSize = 14;
            const columns = canvas.width / charSize;
            
            // Posición inicial de cada columna (y)
            const drops = [];
            for(let i = 0; i < columns; i++) {
                drops[i] = Math.random() * canvas.height;
            }
            
            function draw() {
                // Fondo semitransparente para efecto de rastro
                ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                ctx.fillStyle = '#0f0';
                ctx.font = charSize + 'px monospace';
                
                for(let i = 0; i < drops.length; i++) {
                    const text = chars[Math.floor(Math.random() * chars.length)];
                    ctx.fillText(text, i * charSize, drops[i] * charSize);
                    
                    // Reiniciar gotas que llegan al fondo
                    if(drops[i] * charSize > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                    
                    drops[i]++;
                }
            }
            
            setInterval(draw, 50);
        }
        
        // Crear efecto de partículas
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // Tamaño y posición aleatorios
                const size = Math.random() * 5 + 1;
                const posX = Math.random() * 100;
                const duration = Math.random() * 10 + 5;
                const delay = Math.random() * 5;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${posX}%`;
                particle.style.animationDuration = `${duration}s`;
                particle.style.animationDelay = `${delay}s`;
                
                particlesContainer.appendChild(particle);
            }
        }
        
        // Inicializar cuando la página cargue
        window.addEventListener('load', () => {
            setupMatrix();
            createParticles();
            
            // Obtener IP del usuario
            getIPData();
        });
        
        // Redimensionar canvas al cambiar tamaño de ventana
        window.addEventListener('resize', () => {
            const canvas = document.getElementById('matrix');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>